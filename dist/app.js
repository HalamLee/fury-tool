#!/usr/bin/env node
"use strict";var R=Object.create;var E=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var D=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty;var M=(r,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of S(t))!T.call(r,i)&&i!==e&&E(r,i,{get:()=>t[i],enumerable:!(o=C(t,i))||o.enumerable});return r};var w=(r,t,e)=>(e=r!=null?R(D(r)):{},M(t||!r||!r.__esModule?E(e,"default",{value:r,enumerable:!0}):e,r));var O=require("commander");var l=class{constructor({prompt:t,logger:e,utils:o}){this.Prompt=t,this.Logger=e,this.CommonUtil=o.CommonUtil,this.FileUtil=o.FileUtil}async invoke(){try{await this.prepare(),await this.execute(),await this.finalize()}catch(t){let e=t;this.Logger.errorD(e),await this.rollback()}}};var k=w(require("moment")),n=class r{constructor(t){let e={error:0,info:1,warn:2,debug:3,trace:4};this.logLevel=t?e[t]:2}static getInstance(t){return r.instance?this.instance.debug("Get Logger Instance"):(r.instance=new r(t),this.instance.debug("New Logger Instance"),this.instance.debug(`Level: ${t}`)),r.instance}formatMessage(t,e,o){return`${(0,k.default)().format("YYYY.MM.DD HH:mm:ss")} | ${t}${e}\x1B[0m | ${o}`}debug(t){this.logLevel>=3&&(typeof t=="object"&&(t=JSON.stringify(t,null,2)),console.log(this.formatMessage("\x1B[36m","DEBUG",t)))}info(t){this.logLevel>=1&&console.info(this.formatMessage("\x1B[32m","INFO",t))}warn(t){this.logLevel>=2&&console.warn(this.formatMessage("\x1B[33m","WARN",t))}error(t){this.logLevel>=0&&console.error(this.formatMessage("\x1B[31m","ERROR",t))}errorD(t){this.logLevel>=4&&console.error(this.formatMessage("\x1B[31m","ERROR_D",`{
  type: '${t.title}'
  reason: '${t.message}'
}`))}space(){console.log()}logo(){console.log(`
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28E0\u28E4\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28FE\u28FF\u28FF\u280F\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28A0\u28FF\u28FF\u28FF\u284F\u2840\u28C0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u287F\u2803\u2800\u28C0\u28C0\u2840\u2800\u2800\u2800\u2800\u2800\u2880\u28C0\u2840\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u28F8\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F6\u28FE\u28FF\u28FF\u28D7\u2800\u2800\u2880\u28E0\u28F6\u28FF\u28FF\u2847\u2800\u2800\u2880\u28FE\u28FE\u28FE\u28FE\u28FE\u28FE\u2802\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2880\u285E\u2801\u28FD\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28F7\u28F6\u28FE\u28FF\u28FF\u28FF\u283F\u280F\u2801\u2800\u2800\u28B8\u28FF\u28FF\u2809\u2809\u2809\u2809\u28A0\u28E4\u28E4\u2800\u2800\u28E4\u28E4\u2844\u2800\u28E0\u28E4\u28C4\u28E0\u28E4\u28A0\u28E4\u28E4\u2800\u2800\u28E4\u28E4\u2844\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2880\u28FE\u2805\u2828\u28FF\u28FF\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u284F\u2808\u2818\u28FB\u28FF\u2809\u2808\u2800\u2800\u2800\u2800\u2800\u2800\u28FD\u28FF\u28FF\u28FE\u28FE\u284E\u2800\u28FC\u28FF\u28DF\u2800\u2890\u28FF\u28FF\u2803\u2880\u28FF\u28FF\u283F\u281B\u2813\u2898\u28FF\u28FF\u2800\u28B0\u28FF\u285F\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2818\u28FF\u28E7\u28C0\u2819\u2821\u28FF\u28FF\u28FF\u284F\u28FF\u28FF\u287F\u2801\u2800\u2880\u28FD\u28FF\u28E7\u28C0\u2800\u2800\u2800\u2800\u2800\u28B0\u28FF\u28FF\u2801\u2801\u2801\u2801\u2880\u28FF\u28FF\u2847\u2800\u28FC\u28FF\u28DF\u2800\u28B0\u28FF\u28FF\u2801\u2800\u2800\u2800\u28FF\u28FF\u28E0\u28FF\u285F\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2819\u28BF\u28FF\u28FF\u28FF\u28FF\u28FF\u28FF\u28E7\u28CD\u28C9\u28C1\u28C0\u28E4\u28FE\u28FF\u287F\u283F\u280B\u2800\u2800\u2800\u2800\u2800\u28FE\u28FF\u286F\u2800\u2800\u2800\u2800\u2818\u28FF\u28FF\u287F\u287F\u28BB\u28FF\u28DF\u2800\u28FD\u28FF\u284F\u2800\u2800\u2800\u2800\u28FB\u28FF\u28FF\u280F\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2808\u2809\u281B\u281B\u281F\u283F\u283F\u283B\u281F\u283F\u283B\u283B\u281B\u280B\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2801\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u28C0\u28F4\u28FE\u287F\u2803\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2839\u281B\u2809\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800
`)}};var m=require("fs"),v=require("path");var p=class{constructor(t,e){this.logger=n.getInstance(),this.title=`${t}Exception`,this.message=e}};var N="OperationFail",a=class extends p{constructor(t){super(N,t),this.logger.error(`${t} \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.`)}convertMessage(){}};var c=class{constructor(){}static makePath(t,e){return(0,v.join)(t,e)}static async createDirectory(t,e,o){try{let i=(0,v.join)(t,e);return(0,m.mkdirSync)(i,{recursive:o!=null&&o.recursive?o.recursive:!1}),await this.checkExist(i),i}catch{throw new a("createDirectory")}}static async createFile(t,e,o){let i=(0,v.join)(t,e);return(0,m.writeFileSync)(i,o),this.checkExist(i)}static async checkExist(t){return(0,m.existsSync)(t)}};var g=class{constructor(){}static validateRequireFields(t,e){e.forEach(o=>{if(!t[o])throw new a(o);return!0})}};var s=class{constructor(t){this.logger=n.getInstance(),this.FileUtil=c,this.projectInfo=t,this.sWorkDir=process.cwd()}setWorkDir(t){this.sWorkDir=t}};var f=class extends s{constructor(t){super(t)}async build(){this.logger.info("Build Start (Default)");try{await this.FileUtil.createDirectory(this.sWorkDir,this.projectInfo.projectName);let t=this.FileUtil.makePath(this.sWorkDir,this.projectInfo.projectName);await this.FileUtil.createFile(t,"package.json",""),this.projectInfo.useTypescript&&await this.FileUtil.createFile(t,"tsconfig.json","")}catch(t){throw this.logger.errorD(t),new a("projectBuild")}}getFactory(){var t;switch((t=this.projectInfo)==null?void 0:t.frameworkType){case"react":return new u(this.projectInfo);case"vue":return new h(this.projectInfo);case"express":return new d(this.projectInfo);default:return this}}};var u=class extends s{async build(){}};var h=class extends s{async build(){}};var d=class extends s{async build(){}};var P=[{type:"text",name:"projectName",message:"Enter the project name:",initial:"demo"},{type:"confirm",name:"useTypescript",message:"Use TypeScript?",initial:!1},{type:"confirm",name:"useFramework",message:"Use Framework?",initial:!1},{type:"confirm",name:"useGit",message:"Use Git?",initial:!1},{type:"confirm",name:"usePrettier",message:"Use Prettier?",initial:!1},{type:"confirm",name:"useEslint",message:"Use ESLint?",initial:!1}],j=[{type:"select",name:"frameworkType",message:"Select a framework:",choices:[{title:"\x1B[34mReact\x1B[0m",value:"react"},{title:"\x1B[32mVue\x1B[0m",value:"vue"}]}];var y=class extends l{constructor(){super(...arguments);this.projectInfo={}}async prepare(){let e=await this.Prompt.call(P);Object.assign(this.projectInfo,e);let o=P.map(i=>String(i.name));if(this.CommonUtil.validateRequireFields(this.projectInfo,o),this.projectInfo.useFramework){let i=await this.Prompt.call(j);this.CommonUtil.validateRequireFields(i,j.map(I=>String(I.name))),Object.assign(this.projectInfo,i)}}async execute(){await new f(this.projectInfo).getFactory().build()}async finalize(){let e="";if(this.projectInfo.useGit&&await this.FileUtil.createFile(e,".gitignore",""),this.projectInfo.useTypescript){let o=this.FileUtil.makePath(e,"tsconfig.json");await this.FileUtil.checkExist(o)||await this.FileUtil.createFile(e,"tsconfig.json","")}if(this.projectInfo.usePrettier){let o=this.FileUtil.makePath(e,".prettierrc.yaml");await this.FileUtil.checkExist(o)||await this.FileUtil.createFile(e,".prettierrc.yaml","")}}async rollback(){}};var F=w(require("prompts"));var x=class{constructor(){this.prompt=F.default}async call(t){return await this.prompt(t)}};var b={name:"fury-tool",version:"0.0.1",description:"CLI tool for JavaScript developers",main:"dist/app.js",bin:{fury:"./dist/app.js"},scripts:{build:"rm -rf dist && npx tsc && rm -rf types && node ./scripts/build.mjs",dev:"node ./dist/app.js"},keywords:[],author:"",license:"ISC",devDependencies:{"@types/node":"^20.12.7","@types/prompts":"^2.4.9","@types/update-notifier":"^6.0.8","ts-node":"^10.9.2",typescript:"^5.4.5"},dependencies:{commander:"^12.1.0",esbuild:"^0.22.0",moment:"^2.30.1",prompts:"^2.4.2","update-notifier":"^7.0.0"}};var L={logLevel:"trace"};var U=class{constructor(){this.program=new O.Command,this.prompt=new x,this.logger=n.getInstance(L.logLevel),this.configureCommands()}async configureCommands(){this.program.name(b.name).option("no option","Start create project").option("-g, --git","Start git management",!1).version(b.version).description(b.description).action(async t=>{let{default:e}=await import("update-notifier");e({pkg:b,updateCheckInterval:0}).notify();let o=this.getCommand(t);o&&await o.invoke()})}getCommand(t){let e={prompt:this.prompt,logger:this.logger,utils:{CommonUtil:g,FileUtil:c}};switch(!0){case t.git:return;default:return new y(e)}}run(){this.logger.logo(),this.program.parse(process.argv)}};new U().run();
