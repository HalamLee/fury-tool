#!/usr/bin/env node
"use strict";var k=Object.create;var v=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var S=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var M=(r,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of T(t))!L.call(r,i)&&i!==e&&v(r,i,{get:()=>t[i],enumerable:!(s=C(t,i))||s.enumerable});return r};var x=(r,t,e)=>(e=r!=null?k(S(r)):{},M(t||!r||!r.__esModule?v(e,"default",{value:r,enumerable:!0}):e,r));var R=require("commander");var n=class{constructor({prompt:t,logger:e}){this.prompt=t,this.logger=e,this.sWorkDir=process.cwd()}async invoke(){try{await this.prepare(),await this.execute(),await this.finalize()}catch(t){await this.rollback(t)}}setWorkDir(t){this.sWorkDir=t}};var I=x(require("moment")),a=class r{constructor(){}static getInstance(){return r.instance?this.instance.debug("Get Logger Instance"):(r.instance=new r,this.instance.debug("New Logger Instance")),r.instance}formatMessage(t,e,s){let i="\x1B[0m",E=(0,I.default)().format("YYYY.MM.DD HH:mm:ss"),N=process.pid;return`${E} | ${t}${e}${i} | ${s}`}debug(t){typeof t=="object"&&(t=JSON.stringify(t,null,2)),console.log(this.formatMessage("\x1B[36m","DEBUG",t))}info(t){console.info(this.formatMessage("\x1B[32m","INFO",t))}warn(t){console.warn(this.formatMessage("\x1B[33m","WARN",t))}error(t){console.error(this.formatMessage("\x1B[31m","ERROR",t))}space(){console.log()}};var o=class{constructor(t){this.logger=a.getInstance(),this.projectInfo=t}};var c=class extends o{constructor(t){super(t)}async build(){this.logger.info("Build Start (Default)")}getFactory(){var t;switch((t=this.projectInfo)==null?void 0:t.frameworkType){case"react":return new p(this.projectInfo);case"vue":return new m(this.projectInfo);case"express":return new l(this.projectInfo);default:return this}}};var p=class extends o{async build(){}};var m=class extends o{async build(){}};var l=class extends o{async build(){}};var y=["projectName","useTypescript","useFramework","usePrettier","useEslint"],b=[{type:"text",name:"projectName",message:"Enter the project name:",initial:"demo"},{type:"confirm",name:"useTypescript",message:"Use TypeScript?",initial:!0},{type:"confirm",name:"useFramework",message:"Use Framework?",initial:!0},{type:"confirm",name:"usePrettier",message:"Use Prettier?",initial:!0},{type:"confirm",name:"useEslint",message:"Use ESLint?",initial:!0}],h=[{type:"select",name:"frameworkType",message:"Select a framework:",choices:[{title:"\x1B[34mReact\x1B[0m",value:"react"},{title:"\x1B[32mVue\x1B[0m",value:"vue"}]}];var g=class{constructor(){}static validateRequireFields(t,e){e.forEach(s=>{if(!t[s])throw new Error(`NotFoundException : ${s}`);return!0})}};var f=class extends n{constructor(){super(...arguments);this.projectInfo={}}async prepare(){this.logger.space();let e=await this.prompt.call(b);if(Object.assign(this.projectInfo,e),g.validateRequireFields(this.projectInfo,y),this.projectInfo.useFramework){let s=await this.prompt.call(h);g.validateRequireFields(s,["frameworkType"]),Object.assign(this.projectInfo,s)}}async execute(){await new c(this.projectInfo).getFactory().build()}async finalize(){}async rollback(e){this.logger.error(e)}};var d=x(require("prompts"));var u=class{constructor(){this.prompt=d.default}async call(t){return await this.prompt(t)}};var w="fury",F="0.0.1",O="CLI tool for JavaScript developers";var j=class{constructor(){this.program=new R.Command,this.prompt=new u,this.logger=a.getInstance(),this.configureCommands()}async configureCommands(){this.program.name(w).option("no option","Start create project").option("-g, --git","Start git management",!1).version(F).description(O).action(async t=>{let e=this.getCommand(t);e&&await e.invoke()})}getCommand(t){let e={prompt:this.prompt,logger:this.logger};switch(!0){case t.git:return;default:return new f(e)}}run(){this.logger.debug("Program Start"),this.program.parse(process.argv)}};new j().run();
